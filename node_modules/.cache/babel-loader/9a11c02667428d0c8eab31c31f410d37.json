{"ast":null,"code":"import React,{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import GameClient from'../services/GameClient';import{GameClientContext}from'../contexts/GameClientContext';import{LoginContainer,Rule,Card,GameTitle,LoginForm,WelcomeText,Label,GameRules,SubmitButton,RulesList,InputGroup,RulesTitle,Input,SubTitle,OnlinePlayersBox,OnlineDot,OnlineCount}from'../components/GameStyles';import{useOnlinePlayerCount}from'../hooks/useOnlinePlayerCount';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const{setGameClient}=useContext(GameClientContext);const navigate=useNavigate();const[playerName,setPlayerName]=useState('');const onlinePlayers=useOnlinePlayerCount();const handleLogin=async e=>{e.preventDefault();if(!playerName.trim()){alert(\"Player name cannot be empty\");return;}const client=new GameClient(playerName);try{await client.verifyPlayerName();setGameClient(client);console.log(\"LoginPage Player: \",client.getPlayerName());navigate('/mode-selection');}catch(error){if(error instanceof Error){alert(error.message);}else{console.error('Unexpected error:',error);alert(\"Unexpected error\");}}};return/*#__PURE__*/_jsxs(LoginContainer,{children:[/*#__PURE__*/_jsxs(OnlinePlayersBox,{children:[/*#__PURE__*/_jsx(OnlineDot,{}),/*#__PURE__*/_jsxs(OnlineCount,{children:[\"Online: \",onlinePlayers]})]}),/*#__PURE__*/_jsx(GameTitle,{children:\"24!\"}),/*#__PURE__*/_jsx(SubTitle,{children:\"Combine Numbers and Operators Strategically to Hit 24!\"}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(WelcomeText,{children:\"Welcome to the Game\"}),/*#__PURE__*/_jsxs(LoginForm,{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Enter Your Name\"}),/*#__PURE__*/_jsx(Input,{value:playerName,onChange:e=>setPlayerName(e.target.value),placeholder:\"Your game name\",required:true})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",children:\"Start Playing!\"})]}),/*#__PURE__*/_jsxs(GameRules,{children:[/*#__PURE__*/_jsx(RulesTitle,{children:\"How to Play:\"}),/*#__PURE__*/_jsxs(RulesList,{children:[/*#__PURE__*/_jsx(Rule,{children:\"\\u2022 Use all four numbers exactly once\"}),/*#__PURE__*/_jsx(Rule,{children:\"\\u2022 Use basic operations (+, -, \\xD7, \\xF7)\"}),/*#__PURE__*/_jsx(Rule,{children:\"\\u2022 Make the result equal to 24\"})]})]})]})]});};export default LoginPage;","map":{"version":3,"names":["React","useState","useContext","useNavigate","GameClient","GameClientContext","LoginContainer","Rule","Card","GameTitle","LoginForm","WelcomeText","Label","GameRules","SubmitButton","RulesList","InputGroup","RulesTitle","Input","SubTitle","OnlinePlayersBox","OnlineDot","OnlineCount","useOnlinePlayerCount","jsx","_jsx","jsxs","_jsxs","LoginPage","setGameClient","navigate","playerName","setPlayerName","onlinePlayers","handleLogin","e","preventDefault","trim","alert","client","verifyPlayerName","console","log","getPlayerName","error","Error","message","children","onSubmit","value","onChange","target","placeholder","required","type"],"sources":["/Users/tanjun/Documents/24PointsGameOnline/src/pages/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport GameClient from '../services/GameClient';\nimport { GameClientContext } from '../contexts/GameClientContext';\nimport {\n    LoginContainer,\n    Rule,\n    Card,\n    GameTitle,\n    LoginForm,\n    WelcomeText,\n    Label,\n    GameRules,\n    SubmitButton,\n    RulesList,\n    InputGroup,\n    RulesTitle,\n    Input,\n    SubTitle,\n    OnlinePlayersBox,\n    OnlineDot,\n    OnlineCount\n} from '../components/GameStyles';\nimport { useOnlinePlayerCount} from '../hooks/useOnlinePlayerCount';\n\n\nconst LoginPage = () => {\n    const { setGameClient } = useContext(GameClientContext);\n    const navigate = useNavigate();\n    const [playerName, setPlayerName] = useState('');\n    const  onlinePlayers  = useOnlinePlayerCount();\n\n\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!playerName.trim()) {\n            alert(\"Player name cannot be empty\");\n            return \n        }\n            \n        const client = new GameClient(playerName);\n        try{\n            await client.verifyPlayerName();\n            setGameClient(client);\n            console.log(\"LoginPage Player: \", client.getPlayerName());\n\n            navigate('/mode-selection');\n        } catch (error) {\n            if (error instanceof Error) {\n                alert(error.message);\n            } else {\n                console.error('Unexpected error:', error);\n                alert(\"Unexpected error\");\n            }\n        }\n        \n    };\n\n    return (\n        <LoginContainer>\n            <OnlinePlayersBox>\n                <OnlineDot />\n                <OnlineCount>Online: {onlinePlayers}</OnlineCount>\n            </OnlinePlayersBox>\n            <GameTitle>24!</GameTitle>\n            <SubTitle>Combine Numbers and Operators Strategically to Hit 24!</SubTitle>\n            \n            <Card>\n                <WelcomeText>Welcome to the Game</WelcomeText>\n                <LoginForm onSubmit={handleLogin}>\n                    <InputGroup>\n                        <Label>Enter Your Name</Label>\n                        <Input\n                            value={playerName}\n                            onChange={(e) => setPlayerName(e.target.value)}\n                            placeholder=\"Your game name\"\n                            required\n                        />\n                    </InputGroup>\n                    <SubmitButton type=\"submit\">\n                        Start Playing!\n                    </SubmitButton>\n                </LoginForm>\n                \n                <GameRules>\n                    <RulesTitle>How to Play:</RulesTitle>\n                    <RulesList>\n                        <Rule>• Use all four numbers exactly once</Rule>\n                        <Rule>• Use basic operations (+, -, ×, ÷)</Rule>\n                        <Rule>• Make the result equal to 24</Rule>\n                    </RulesList>\n                </GameRules>\n            </Card>\n        </LoginContainer>\n    );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}