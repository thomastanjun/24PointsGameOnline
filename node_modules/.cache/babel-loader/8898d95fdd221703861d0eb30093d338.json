{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst BASE_URL = 'http://localhost:8080/game';\nexport const useOnlinePlayerCount = () => {\n  _s();\n  const [onlinePlayers, setOnlinePlayers] = useState(0);\n  useEffect(() => {\n    const fetchCount = async () => {\n      try {\n        const response = await fetch('${BASE_URL}/players/count');\n        if (!response.ok) {\n          console.error('Server response:', response.status, response.statusText);\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const count = await response.json();\n        setOnlinePlayers(count);\n      } catch (error) {\n        console.error('Error fetching online player number:', error);\n        throw error;\n      }\n    };\n    fetchCount();\n    const interval = setInterval(fetchCount, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  return onlinePlayers;\n};\n_s(useOnlinePlayerCount, \"4c685lES4KWDv/XfJwbfWqiLkbM=\");","map":{"version":3,"names":["useState","useEffect","BASE_URL","useOnlinePlayerCount","_s","onlinePlayers","setOnlinePlayers","fetchCount","response","fetch","ok","console","error","status","statusText","Error","count","json","interval","setInterval","clearInterval"],"sources":["/Users/tanjun/Downloads/24PointsGameOnline/frontend/src/hooks/useOnlinePlayerCount.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst BASE_URL = 'http://localhost:8080/game'; \n\nexport const useOnlinePlayerCount = () => {\n    const [onlinePlayers, setOnlinePlayers] = useState<number>(0);\n    \n    useEffect(() => {\n        const fetchCount = async () => {\n            try {\n                const response = await fetch('${BASE_URL}/players/count');\n    \n                if (!response.ok) {\n                    console.error('Server response:', response.status, response.statusText);\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                const count = await response.json();\n                setOnlinePlayers(count);                \n            } catch (error) {\n                console.error('Error fetching online player number:', error);\n                throw error;\n            }\n        }\n\n        fetchCount();\n        const interval = setInterval(fetchCount, 1000);\n        return () => clearInterval(interval);\n    }, []);\n\n    return onlinePlayers;\n};"],"mappings":";AAAA,SAAgBA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,MAAMC,QAAQ,GAAG,4BAA4B;AAE7C,OAAO,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGN,QAAQ,CAAS,CAAC,CAAC;EAE7DC,SAAS,CAAC,MAAM;IACZ,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAA2B,CAAC;QAEzD,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;UACdC,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEJ,QAAQ,CAACK,MAAM,EAAEL,QAAQ,CAACM,UAAU,CAAC;UACvE,MAAM,IAAIC,KAAK,CAAC,uBAAuBP,QAAQ,CAACK,MAAM,EAAE,CAAC;QAC7D;QACA,MAAMG,KAAK,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QACnCX,gBAAgB,CAACU,KAAK,CAAC;MAC3B,CAAC,CAAC,OAAOJ,KAAK,EAAE;QACZD,OAAO,CAACC,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;QAC5D,MAAMA,KAAK;MACf;IACJ,CAAC;IAEDL,UAAU,CAAC,CAAC;IACZ,MAAMW,QAAQ,GAAGC,WAAW,CAACZ,UAAU,EAAE,IAAI,CAAC;IAC9C,OAAO,MAAMa,aAAa,CAACF,QAAQ,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOb,aAAa;AACxB,CAAC;AAACD,EAAA,CA1BWD,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module"}